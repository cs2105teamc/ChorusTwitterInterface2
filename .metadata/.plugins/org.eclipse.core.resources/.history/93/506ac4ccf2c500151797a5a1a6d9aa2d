package chorustweet;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import javax.net.ssl.HttpsURLConnection;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;

public class HTTPReq {
	public static void PostTWT (String hdr, String query) {
		try {
			URL url = new URL("https://api.twitter.com/1.1/statuses/update.json");
			HttpsURLConnection connect = (HttpsURLConnection)url.openConnection();
			connect.setDoOutput(true);
			connect.setRequestMethod("POST");	
			connect.setRequestProperty("Authorization", hdr);
			connect.setRequestProperty("User-Agent", "OAuth gem v0.4.4");
			connect.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
			connect.setRequestProperty("Content-Length", String.valueOf(query.length()));
			
			OutputStream output = connect.getOutputStream();
			output.write(query.getBytes());
			
			BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));
			String strTemp = "";
			while (null != (strTemp = br.readLine())) {
				System.out.println(strTemp);
			}
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}
}